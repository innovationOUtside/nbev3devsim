<div id="roboSim_root" class="roboSim" onmouseover="Jupyter.keyboard_manager.disable()" onmouseout="Jupyter.keyboard_manager.enable()">

  <div class="row">
    <toggle-switch id="roboSim-display-output" on="Show" off="Hide" initial="on">Output</toggle-switch>
    <toggle-switch id="roboSim-display-sensor-values" on="Show" off="Hide" initial="off">Sensor Values</toggle-switch>
    <toggle-switch id="roboSim-display-sensor-array" on="Show" off="Hide" initial="off">Sensor Array</toggle-switch>
    <toggle-switch id="roboSim-display-chart" on="Show" off="Hide" initial="off">Chart</toggle-switch>
    <toggle-switch id="roboSim-state-collaborative" on="On" off="Off" initial="off">Collaborative</toggle-switch>
  </div>

  <div class="row">
    <div id="editor">
      <pre id="output"></pre>
    </div>
  </div>

  <div class="row">
    <div id="charter">
      <button id="clearChart">Clear Chart</button>
      <div id="chartTraces">
        <label class="checkboxLabel"><input type="checkbox" id="chart_colour" name="chart_colour" checked>Colour</label>
        <label class="checkboxLabel"><input type="checkbox" id="chart_left_light" name="chart_left_light" checked>Left light</label>
        <label class="checkboxLabel"><input type="checkbox" id="chart_right_light" name="chart_right_light" checked>Right light</label>
        <label class="checkboxLabel"><input type="checkbox" id="chart_ultrasound" name="chart_ultrasound">Ultrasonic</label>
        <label class="checkboxLabel"><input type="checkbox" id="chart_gyro" name="chart_gyro">Gyro</label>
        <label class="checkboxLabel"><input type="checkbox" id="chart_left_wheel" name="chart_left_wheel">Left wheel</label>
        <label class="checkboxLabel"><input type="checkbox" id="chart_right_wheel" name="chart_right_wheel">Right wheel</label>
      </div>
      <div id="plotlyDiv"></div>
    </div>
  </div>

  <div class="row">
    <div id='sensorDisplays'>
      <div id="readings">Port Values:
        <div class='motorReading'>LeftMotor: <span id="leftWheel_value"></span>
        </div>
        <div class='motorReading'>RightMotor: <span id="rightWheel_value"></span>
        </div>
        <div class='sensorReading'>Sensor1: <div id="sensor1_color" style="width: 10px; height:10px"></div> <span id="sensor1_value"></span>
        </div>
        <div class='sensorReading'>Sensor2: <div id="sensor2_color" style="width: 10px; height:10px"></div> <span id="sensor2_value"></span>
        </div>
        <div class='sensorReading'>Ultrasonic: <span id="ultrasonic_value"></span></div>
        <div class='sensorReading'>Gyro: <span id="gyro_value"></span></div>
      </div>
      <div id='sensorArray' class='rightFlex'>Sensor arrays:
        <canvas id='sensorArrayLeft' class='sensorGrid'></canvas>
        <canvas id='sensorArrayRight' class='sensorGrid'></canvas>
      </div>
    </div>
  </div>


  <div class="row">
    <toggle-switch id="roboSim-display-world" on="Show" off="Hide" initial="on">World</toggle-switch>
    <select id="map">
      <option selected="selected">Empty_Map</option>
      <option>Loop</option>
      <option>Square</option>
      <option>Grey_bands</option>
      <option>Grey_and_black</option>
      <option>Linear_grey</option>
      <option>Radial_grey</option>
      <option>Radial_red</option>
      <option>Lollipop</option>
      <!--<option>Noisy_Lollipop</option>-->
      <option>Coloured_bands</option>
      <option>Rainbow_bands</option>
      <option>Testcard</option>
      <option>Two_shapes</option>
      <option>WRO_2019_Regular_Junior</option>
      <option>WRO_2018_Regular_Junior</option>
      <option>FLL_2019_City_Shaper</option>
      <option>FLL_2018_Into_Orbit</option>
      <option>Line_Following_Test</option>
      <option>Junction_Handling_Test</option>
      <option>MNIST_Digits</option>
      <option>Simple_Shapes</option>
      <!--<option>Topo_map</option>-->
      <option>Obstacles_Test</option>
      <option>Sensor_Diameter_Test</option>
      <option>Thruxton_Circuit</option>
      <option>Upload Image (2362x1143px)...</option>
      <option hidden>Custom Image</option>
    </select>
    <button id="upload">Load</button>
    <button id="configureObstacles">Obstacles...</button>
    
  </div>

  <div class="row">
    <div id="noise_controls" class="row">
      <label class="checkboxLabel" for="lightSensorNoiseSlider">Light sensor noise</label><input type="range" id="lightSensorNoiseSlider" name="lightSensorNoiseSlider" value="0" min="0" max="128">
      <label class="checkboxLabel" for="wheelNoiseSlider">Wheel noise</label><input type="range" id="wheelNoiseSlider" name="wheelNoiseSlider" value="0" min="0" max="500">
    </div>
    <select id="robotPreconfig">
      <option>Default_Robot</option>
      <option>Small_Robot</option>
      <option>Small_Robot_Wide_Eyes</option>
    </select>
    <button id="robotConfiguratorOpen">Configure Robot</button>
  </div>

  <div class="row">
    <div class="leftFlex">
      <span id='sim_runStatus' class="sim-stopped"></span>
      <toggle-switch id="roboSim-display-runstop" on="Stop" off="Run" initial="off">Sim</span></toggle-switch>
      <!--<button id="runCode">Run</button>
      <button id="stop">Stop</button>-->
      <button id="showCode">Show Code</button>
      <button id='codeFromClipboard'>Paste</button>
      <toggle-switch id="roboSim-pen-updown" on="down" off="up" initial="off">Pen</toggle-switch>
      <select id="penColor">
        <option>red</option>
        <option>orange</option>
        <option>green</option>
      </select>
      <button id="clearTrace">Clear Trace</button>
    </div>
  </div>
  <div class="row">
      <button id="move">Move</button>
      <button id="reset">Reset</button>
      <button id="resetReset" style="display: none;">ResetReset</button>
      <button id="randomLocation" style="display: none;">Random Location</button>
      <label for="xPos">X</label><input type="number" id="xPos" size=5>
      <label for="yPos">Y</label><input type="number" id="yPos" size=5>
      <label for="angle">Angle</label><input type="number" id="angle" size=5>
  </div>

  <div id="field"></div>



  <div id="robotConfigurator" class="closed">
    <textarea id="robotConfiguratorEditor" spellcheck="false"></textarea>
    <i>* Dimensions are in mm and degrees.</i>
    <div class="buttons">
      <div class="leftFlex">
        <button id="robotConfiguratorApply">Apply</button>
        <button id="robotConfiguratorCancel">Cancel</button>
      </div>
      <div class="rightFlex">
        <button id="robotConfiguratorupload">Load</button>
        <button id="robotConfiguratordownload">Save</button>
      </div>
    </div>
  </div>

  <div id="obstaclesConfigurator" class="closed">
    <div class="content">
      <div><input type="checkbox" id="showRays">Show ultrasonic rays</div>
      <div><input type="checkbox" id="walls" checked>Walls around map</div>
      <div><input type="checkbox" id="obstacles" checked>Obstacles (format [x, y, w, h]</div>
      <textarea id="obstaclesConfiguratorEditor" spellcheck="false"></textarea>
    </div>
    <div class="buttons">
      <div class="leftFlex">
        <button id="obstaclesConfiguratorApply">Apply</button>
        <button id="obstaclesConfiguratorClose">Close</button>
      </div>
      <div class="rightFlex">
        <select id="obstaclesPreset">
          <option selected="selected">None</option>
          <option>Central_post</option>
          <option>Square_posts</option>
          <option>Wall</option>
        </select>
        <button id="obstaclesConfiguratorupload">Upload File</button>
        <button id="obstaclesConfiguratordownload">Download to File</button>
      </div>
    </div>
  </div>

  <div id='codeDisplay' class='closed'>
    <!--<textarea id='codeDisplayCode'></textarea>-->
    <pre><code id='codeDisplayCode' class='language-python'></code></pre>
    <div class="buttons">
      <div class="leftFlex">
        <button id="download">Save</button>
        <button id="codeDisplayClose">Close</button>
      </div>
    <div>
  </div>

  <div id="window" class="closed">
    <div class="content"></div>
    <div class="windowRow">
      <button id="closeWindow">Close</button>
    </div>
  </div>

</div>